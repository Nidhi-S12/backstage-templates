# ${{ values.deployment_name }}

This repository contains the deployment configuration for **${{ values.deployment_name }}**.

## Overview
- **Source Application**: ${{ values.source_repo_url }}
- **Target Environment**: ${{ values.environment }}
- **AWS Region**: ${{ values.region }}
- **Instance Type**: ${{ values.instance_type }}

## Deployment

### Prerequisites
1. AWS Account with appropriate permissions
2. AWS Key Pair: `${{ values.key_pair_name }}`
3. GitHub Secrets configured:
   - `AWS_ACCESS_KEY_ID`
   - `AWS_SECRET_ACCESS_KEY`

### Deploy Application
1. Go to the **Actions** tab in this repository
2. Select **Deploy to EC2** workflow
3. Click **Run workflow**
4. Choose action: **deploy**

### Destroy Infrastructure
1. Go to the **Actions** tab
2. Select **Deploy to EC2** workflow  
3. Click **Run workflow**
4. Choose action: **destroy**

## Configuration

### AWS Resources Created
- EC2 Instance (${{ values.instance_type }})
- Security Group (ports: 22, 80, 443, ${{ values.app_port }})
- Network configuration

### Application Setup
- Node.js ${{ values.node_version }}
- Application runs on port ${{ values.app_port }}
- Environment: ${{ values.environment }}
- Systemd service: `${{ values.deployment_name }}`

## Monitoring

After deployment, you can:
- Access your application at: `http://<instance-ip>:${{ values.app_port }}`
- SSH to instance: `ssh -i ${{ values.key_pair_name }}.pem ec2-user@<instance-ip>`
- Check service status: `sudo systemctl status ${{ values.deployment_name }}`
- View logs: `sudo journalctl -u ${{ values.deployment_name }} -f`

## GitHub Actions Workflow

The workflow automatically:
1. Provisions AWS infrastructure using Terraform
2. Installs Node.js ${{ values.node_version }}
3. Clones your application from: ${{ values.source_repo_url }}
4. Installs dependencies
5. Creates systemd service
6. Starts your application

## Troubleshooting

If deployment fails:
1. Check GitHub Actions logs
2. Verify AWS credentials and permissions
3. Ensure Key Pair `${{ values.key_pair_name }}` exists
4. Check if your app has a valid `package.json` and entry point

## Generated by Backstage
This deployment was created using the Backstage Software Template.
